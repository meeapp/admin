{"version":3,"sources":["webpack:///./src/app/pages/product-management/product-management.module.ts","webpack:///./src/app/pages/product-management/product-management.page.html","webpack:///./src/app/pages/product-management/product-management.page.scss","webpack:///./src/app/pages/product-management/product-management.page.ts","webpack:///./src/app/pages/product-management/product-management.service.ts"],"names":[],"mappings":"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","file":"pages-product-management-product-management-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProductManagementPage } from './product-management.page';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ComponentsModule } from 'src/app/components/components.module';\nimport { TabulatorTableComponent } from 'src/app/components/tabulator-table/tabulator-table.component';\nimport { ModalImportCsvComponent } from 'src/app/components/modal-import-csv/modal-import-csv.component';\nimport { ModalEditProductComponent } from 'src/app/components/modal-edit-product/modal-edit-product.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProductManagementPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    ComponentsModule,\n    RouterModule.forChild(routes)\n  ],\n  entryComponents: [\n    TabulatorTableComponent, \n    ModalImportCsvComponent, \n    ModalEditProductComponent\n  ],\n  declarations: [ProductManagementPage]\n})\nexport class ProductManagementPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button color=\\\"colormain\\\" class=\\\"color-text\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Quản lí sản phẩm\\n    </ion-title>\\n    <ion-buttons slot=\\\"end\\\" no-padding mode=\\\"md\\\">\\n      <input type=\\\"text\\\" placeholder=\\\"Nhập tên | giá\\\" class=\\\"search-padding\\\" [(ngModel)]=\\\"filterValue\\\" (ngModelChange)=\\\"filterContent($event)\\\">\\n      <ion-button *ngIf=\\\"appValueService.APP_PLATFORM_DESKTOP\\\" class=\\\"product-avarta\\\" hideWhen=\\\"android,ios\\\">        \\n        <ion-icon mode=\\\"md\\\" slot=\\\"start\\\" name=\\\"person\\\"></ion-icon>\\n        {{appValueService.APP_AUTHENTICATION.userName}}\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content #contentSearch id=\\\"contentSearch\\\">\\n  <app-tabulator-table [tableData]=\\\"lstProduct\\\" [columnNames]=\\\"utilsService.columnsTableProduct\\\" [height]=\\\"heightTable\\\"\\n    idElement=\\\"example-table\\\" isSelectable=\\\"1\\\" (rowClickEvent)=\\\"showDetail($event)\\\">\\n  </app-tabulator-table>\\n</ion-content>\\n<ion-footer>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <!-- <ion-button (click)=\\\"showModalImport($event)\\\" *ngIf=\\\"appValueService.APP_PLATFORM_DESKTOP\\\" type=\\\"button\\\"\\n        class=\\\"color-button color-button-fix product-function-button-p button-size\\\">Import Excel\\n      </ion-button>\\n      <ion-button (click)=\\\"exportExcel()\\\" *ngIf=\\\"appValueService.APP_PLATFORM_DESKTOP\\\" type=\\\"button\\\"\\n        class=\\\"color-button color-button-fix product-function-button-p button-size\\\">Export Excel\\n      </ion-button> -->\\n      <ion-button *ngIf=\\\"appValueService.APP_PLATFORM_DESKTOP\\\" type=\\\"button\\\" (click) = \\\"showAdd($event)\\\" \\n        class=\\\"color-button color-button-fix product-function-button-p button-size\\\">Thêm sản phẩm\\n      </ion-button>\\n      <ion-grid *ngIf=\\\"!appValueService.APP_PLATFORM_DESKTOP\\\" class=\\\"product-function-button-m product-grid-button\\\"\\n        no-padding>\\n        <ion-row align-items-center no-padding>\\n          <ion-col size=\\\"3\\\" class=\\\"text-center\\\" no-padding>\\n            <ion-button type=\\\"button\\\" (click)=\\\"showModalImport($event)\\\" class=\\\"product-search-button color-button\\\">\\n              <ion-icon name=\\\"cloud-upload\\\" class=\\\"product-search-icon\\\" no-padding></ion-icon>\\n            </ion-button>\\n            <ion-button type=\\\"button\\\" (click)=\\\"showModalImport($event)\\\" class=\\\"product-search-button color-button\\\">\\n              <ion-icon name=\\\"cloud-download\\\" class=\\\"product-search-icon\\\" no-padding></ion-icon>\\n            </ion-button>\\n          </ion-col>\\n          <ion-col size=\\\"3\\\" class=\\\"text-center\\\" no-padding>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-footer>\"","module.exports = \".product-search-icon {\\n  font-size: 2rem !important;\\n  width: 100%; }\\n\\n.search-padding {\\n  padding-left: 8px; }\\n\\n.product-table-color {\\n  background-color: #FAF0E6; }\\n\\n.product-item-background {\\n  --background: transparent; }\\n\\n.product-grid-info-height {\\n  height: 121px; }\\n\\n/*================================Mobile========================================*/\\n\\n@media only screen and (min-width: 320px) and (max-width: 640px) {\\n  .product-table-color {\\n    display: none; }\\n  .product-avarta {\\n    display: none; } }\\n\\n/* smartphones, iPhone, portrait 480x320 phones */\\n\\n/* portrait e-readers (Nook/Kindle), smaller tablets @ 600 or @ 640 wide. */\\n\\n/*==================================PC======================================*/\\n\\n/* common PC */\\n\\n@media only screen and (min-width: 641px) {\\n  .product-search-combobox {\\n    width: 70%;\\n    height: 1.8rem; }\\n  .product-search-icon-p {\\n    font-size: 2rem; } }\\n\\n/* portrait tablets, portrait iPad, landscape e-readers, landscape 800x480 or 854x480 phones */\\n\\n/* big landscape tablets, laptops, and desktops */\\n\\n/* hi-res laptops and desktops */\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcHJvZHVjdC1tYW5hZ2VtZW50L0M6XFxVc2Vyc1xcVm96ZXJcXERlc2t0b3BcXE1lZUFkbWluL3NyY1xcYXBwXFxwYWdlc1xccHJvZHVjdC1tYW5hZ2VtZW50XFxwcm9kdWN0LW1hbmFnZW1lbnQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksMEJBQXlCO0VBQ3pCLFdBQVcsRUFBQTs7QUFFZjtFQUNJLGlCQUFpQixFQUFBOztBQUVyQjtFQUNJLHlCQUF5QixFQUFBOztBQUU3QjtFQUNJLHlCQUFhLEVBQUE7O0FBRWpCO0VBQ0ksYUFBYSxFQUFBOztBQUVqQixpRkFBQTs7QUFDQTtFQUNJO0lBQ0ksYUFBYSxFQUFBO0VBRWpCO0lBQ0ksYUFBYSxFQUFBLEVBQ2hCOztBQUdMLGlEQUFBOztBQUtBLDJFQUFBOztBQUtBLDZFQUFBOztBQUNBLGNBQUE7O0FBQ0E7RUFFSTtJQUNJLFVBQVU7SUFDVixjQUFjLEVBQUE7RUFHbEI7SUFDSSxlQUFlLEVBQUEsRUFDbEI7O0FBRUwsOEZBQUE7O0FBS0EsaURBQUE7O0FBS0EsZ0NBQUEiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9wcm9kdWN0LW1hbmFnZW1lbnQvcHJvZHVjdC1tYW5hZ2VtZW50LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5wcm9kdWN0LXNlYXJjaC1pY29ue1xyXG4gICAgZm9udC1zaXplOiAycmVtIWltcG9ydGFudDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcbi5zZWFyY2gtcGFkZGluZ3tcclxuICAgIHBhZGRpbmctbGVmdDogOHB4O1xyXG59XHJcbi5wcm9kdWN0LXRhYmxlLWNvbG9ye1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0ZBRjBFNjtcclxufVxyXG4ucHJvZHVjdC1pdGVtLWJhY2tncm91bmR7XHJcbiAgICAtLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG59XHJcbi5wcm9kdWN0LWdyaWQtaW5mby1oZWlnaHR7XHJcbiAgICBoZWlnaHQ6IDEyMXB4O1xyXG59XHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1Nb2JpbGU9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOjMyMHB4KSBhbmQgKG1heC13aWR0aDo2NDBweCkge1xyXG4gICAgLnByb2R1Y3QtdGFibGUtY29sb3J7XHJcbiAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgIH1cclxuICAgIC5wcm9kdWN0LWF2YXJ0YXtcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgfSAgICAgXHJcbn1cclxuXHJcbi8qIHNtYXJ0cGhvbmVzLCBpUGhvbmUsIHBvcnRyYWl0IDQ4MHgzMjAgcGhvbmVzICovXHJcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDozMjBweCkgYW5kIChtYXgtd2lkdGg6NDgwcHgpIHtcclxuXHJcbn1cclxuXHJcbi8qIHBvcnRyYWl0IGUtcmVhZGVycyAoTm9vay9LaW5kbGUpLCBzbWFsbGVyIHRhYmxldHMgQCA2MDAgb3IgQCA2NDAgd2lkZS4gKi9cclxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOjQ4MXB4KSBhbmQgKG1heC13aWR0aDo2NDBweCkge1xyXG5cclxufVxyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09UEM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcbi8qIGNvbW1vbiBQQyAqL1xyXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6NjQxcHgpIHtcclxuICAgIFxyXG4gICAgLnByb2R1Y3Qtc2VhcmNoLWNvbWJvYm94e1xyXG4gICAgICAgIHdpZHRoOiA3MCU7XHJcbiAgICAgICAgaGVpZ2h0OiAxLjhyZW07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC5wcm9kdWN0LXNlYXJjaC1pY29uLXB7XHJcbiAgICAgICAgZm9udC1zaXplOiAycmVtO1xyXG4gICAgfVxyXG59XHJcbi8qIHBvcnRyYWl0IHRhYmxldHMsIHBvcnRyYWl0IGlQYWQsIGxhbmRzY2FwZSBlLXJlYWRlcnMsIGxhbmRzY2FwZSA4MDB4NDgwIG9yIDg1NHg0ODAgcGhvbmVzICovXHJcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDo2NDFweCkgYW5kIChtYXgtd2lkdGg6MTAyNHB4KSB7XHJcblxyXG59XHJcblxyXG4vKiBiaWcgbGFuZHNjYXBlIHRhYmxldHMsIGxhcHRvcHMsIGFuZCBkZXNrdG9wcyAqL1xyXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6MTAyNXB4KSBhbmQgKG1heC13aWR0aDoxMjgwcHgpIHtcclxuXHJcbn1cclxuXHJcbi8qIGhpLXJlcyBsYXB0b3BzIGFuZCBkZXNrdG9wcyAqL1xyXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6MTI4MXB4KSB7XHJcblxyXG59XHJcbiJdfQ== */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { PopoverController } from '@ionic/angular';\nimport { UtilsService } from 'src/app/services/utils.service';\nimport { ModalImportCsvComponent } from 'src/app/components/modal-import-csv/modal-import-csv.component';\nimport { AppValueService } from 'src/app/services/app-value.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ProductManagementService } from './product-management.service';\nimport { ModalEditProductComponent } from 'src/app/components/modal-edit-product/modal-edit-product.component';\n@Component({\n  selector: 'app-product-management',\n  templateUrl: './product-management.page.html',\n  styleUrls: ['./product-management.page.scss'],\n})\nexport class ProductManagementPage implements OnInit {\n\n  @ViewChild('contentSearch') contentSearch: any;\n  heightTable = \"775\";\n  searchInfo: any = {};\n  filterValue = \"\";\n  lstProduct: any = [];\n  constructor(private popoverController: PopoverController,\n    public productService: ProductManagementService,\n    public utilsService: UtilsService,\n    public appValueService: AppValueService,\n    private translate: TranslateService) {\n  \n  }\n\n  ngOnInit() {\n    this.loadData();   \n    this.utilsService.observerProductLoaded.subscribe(() => {\n      this.loadData();   \n    });   \n  }\n\n  ionViewDidEnter() {\n    this.heightTable = this.contentSearch.el.offsetHeight;\n  }\n\n  loadData(){\n    this.utilsService.loadingStart();\n      this.lstProduct = [];\n      let tableDataTemp = [];\n      for (let index = 0; index < this.utilsService.listProduct.length; index++) {\n        const element = this.utilsService.listProduct[index];        \n        tableDataTemp.push(element);\n      }  \n      this.lstProduct = tableDataTemp;\n      this.utilsService.loadingStop();    \n  }\n\n  filterContent(ev){\n    this.lstProduct = [];\n    if(ev != \"\" && ev.length > 2){\n      this.lstProduct = this.utilsService.listProduct.filter((item) => {\n        return this.utilsService.xoa_dau(item[\"Tên sản phẩm\"]).toLowerCase().includes(this.utilsService.xoa_dau(ev).toLowerCase()) || this.utilsService.xoa_dau(item[\"Giá bán lẻ\"]).toLowerCase().includes(this.utilsService.xoa_dau(ev).toLowerCase());    \n      });\n    }\n    else{\n      for (let index = 0; index < this.utilsService.listProduct.length; index++) {\n        const element = this.utilsService.listProduct[index];\n        this.lstProduct.push(element);\n      }  \n    }    \n  }\n\n  async showModalImport(ev: any) {\n    const popover = await this.popoverController.create({\n      component: ModalImportCsvComponent,\n      event: ev,\n      translucent: true,\n      backdropDismiss: false,\n      componentProps: { mode: \"product\", sheetName: \"DanhMuc\" },\n      cssClass: \"import-csv-popover\"\n    });\n    popover.onDidDismiss()\n      .then((result) => {\n        if (result.data && result.data != \"close\") {\n          if (result.data.error) {\n            this.utilsService.showError(result.data.error);\n            return;\n          }\n          this.utilsService.loadingStart();\n          this.productService.importToDB(result.data).subscribe((result) => {\n            this.utilsService.loadingStop();\n            if (result == true) {\n              this.utilsService.showInfoSystem(\"Import thành công!\");\n            }\n            else {\n              this.utilsService.showError(\"Import thất bại!\");\n            }\n          },\n            error => {\n              this.utilsService.showError(error);\n            });\n        }\n        else {\n          return true;\n        }\n      },\n        error => {\n          this.utilsService.showError(error);\n        }\n      );\n    return await popover.present();\n  }\n\n  showDetail(data: any) {\n    if(data.ev.toElement.outerHTML.includes('tabulator-field=\"Tên sản phẩm\"')){\n      this.showModalEditProduct(data.ev, data.row._row.data);\n    }    \n  }\n\n  showAdd(ev) {\n    this.showModalEditProduct(ev, {});\n  }\n\n  async showModalEditProduct(ev: any, row: any) {\n    const popover = await this.popoverController.create({\n      component: ModalEditProductComponent,\n      id: \"editProductModal\",\n      event: ev,\n      translucent: true,\n      backdropDismiss: false,\n      componentProps: { rowProduct: row },\n      cssClass: \"edit-product-popover\"\n    });\n    return await popover.present();\n  }\n  exportExcel() {\n    let data = [];\n    for (const key in this.utilsService.listProductObject) {\n      const element = this.utilsService.listProductObject[key];\n      let row: any = {};\n      let index = 0;\n      for (const keyElement in element) {\n        const properties = element[keyElement];\n        if (parseInt(keyElement).toString() != \"NaN\") {\n          if(this.utilsService.listSubCategoryObject[keyElement]){\n            row[\"Tên category_\"+index] = this.utilsService.listSubCategoryObject[keyElement].title;\n            index++;\n          }\n        }\n        else {\n          row[keyElement] = properties ? properties : 0;\n        }\n      }\n      data.push(row);\n    }\n    this.utilsService.exportAsExcelFile(data, \"product\", \"DanhMuc\");\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ConstantsService } from 'src/app/services/constants.service';\nimport { UtilsService } from 'src/app/services/utils.service';\nimport { Observable, throwError } from 'rxjs';\nimport { AngularFireDatabase } from '@angular/fire/database';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProductManagementService {\n  constructor(private constantsService: ConstantsService,\n    private utilsService: UtilsService,\n    public db: AngularFireDatabase) {\n  }\n  importToDB(dataInsert: any) {\n    return Observable.create(observer => {\n      let addNewData = this.db.object(\"/\");\n      addNewData.update(dataInsert).then(result => {\n        observer.next(true);\n        observer.complete();\n      }).catch(error => {\n        throwError(error);\n      });\n    },\n      error => {\n        throwError(error);\n      });\n  }\n}\n"],"sourceRoot":""}